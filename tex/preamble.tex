\usepackage{asdia}

\usepackage[a4paper,left=3cm,right=3cm,top=2.5cm,bottom=2.5cm]{geometry}
\usepackage[headsepline]{scrlayer-scrpage}
\usepackage{tocloft}

\usetikzlibrary{external}
\tikzexternalize[prefix=figures/]

\hypersetup{pdfkeywords={Double Math Solutions},pdfsubject={Double Math}}

\AfterStartingTOC{\clearpage}

\newcommand{\partx}[1]{\cleardoubleoddpage\part{#1}\cleardoubleoddpage}

\clearpairofpagestyles
\ohead*{\pagemark}
\chead{\headmark}

% Chapter and section numbering
\setcounter{secnumdepth}{-1}

\raggedbottom

% Problem and Solution Environments
\newcounter{problemnum}[section]
\newcounter{partnum}[problemnum]
\newcounter{subpartnum}[partnum]

\renewcommand{\theproblemnum}{\arabic{problemnum}}
\renewcommand{\thepartnum}{\alph{partnum}}
\renewcommand{\thesubpartnum}{\roman{subpartnum}}

\newbox\sepbox 
\newcommand\separator{%
  \setbox\sepbox=\vbox{\begin{center}$\ast$ $\ast$ $\ast$ $\ast$ $\ast$\end{center}}%
  \cleaders\copy\sepbox\vskip\ht\sepbox}

\NewDocumentCommand{\problem}{o}{\ifnum\value{problemnum}>0\separator \fi\stepcounter{problemnum}\noindent{\large\sffamily\bfseries{Problem \theproblemnum\IfNoValueF{#1}{$^\ast$}.}}}
\newcommand*{\solution}{\medbreak\noindent{\large\sffamily\bfseries{Solution.}}}
\newcommand*{\ppart}{\stepcounter{partnum}\smallbreak\noindent{\sffamily\bfseries{Part (\thepartnum).}}}
\newcommand*{\psubpart}{\stepcounter{subpartnum}\smallbreak\noindent{\sffamily\bfseries\small{Part (\thepartnum)(\thesubpartnum).}}}

\renewcommand{\theenumi}{(\alph{enumi})}
\renewcommand{\labelenumi}{\theenumi}
\renewcommand{\theenumii}{(\roman{enumii}}

% environment boxes

\mdfdefinestyle{mdbluebox}{%
roundcorner=10pt,
linewidth=1pt,
skipabove=12pt,
innerbottommargin=9pt,
skipbelow=2pt,
linecolor=Periwinkle,
nobreak=true,
backgroundcolor=TealBlue!5,
}
\declaretheoremstyle[
headfont=\sffamily\bfseries\color{MidnightBlue},
mdframed={style=mdbluebox},
headpunct={.\\[3pt]},
postheadspace={0pt}
]{thmbluebox}

\let\theorem\relax
\declaretheorem[style=thmbluebox,name=Theorem,numbered=no]{theorem}
\declaretheorem[style=thmbluebox,name=Fact,numbered=no]{fact}
\declaretheorem[style=thmbluebox,name=Statement,numbered=no]{statement}

\mdfdefinestyle{mdgreenbox}{%
roundcorner=10pt,
linewidth=1pt,
skipabove=12pt,
innerbottommargin=9pt,
skipbelow=2pt,
linecolor=ForestGreen,
nobreak=true,
backgroundcolor=ForestGreen!5,
}
\declaretheoremstyle[
headfont=\sffamily\bfseries\color{ForestGreen!70!black},
mdframed={style=mdgreenbox},
headpunct={.\\[3pt]},
postheadspace={0pt}
]{thmgreenbox}

\let\definition\relax
\declaretheorem[style=thmgreenbox,name=Definition,numbered=no]{definition}


\mdfdefinestyle{mdblueboxB}{%
skipabove=8pt,
skipbelow=0pt,
linewidth=2pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=Periwinkle,
backgroundcolor=TealBlue!5,
}
\declaretheoremstyle[
headfont=\bfseries\sffamily\color{MidnightBlue},
bodyfont=\normalfont,
spaceabove=2pt,
spacebelow=1pt,
mdframed={style=mdblueboxB},
headpunct={.},
]{thmblueboxB}

\declaretheorem[style=thmblueboxB,name=Claim,numbered=no]{claim}

\mdfdefinestyle{mdredbox}{%
skipabove=8pt,
skipbelow=0pt,
linewidth=2pt,
rightline=false,
leftline=true,
topline=false,
bottomline=false,
linecolor=RawSienna,
backgroundcolor=Salmon!5,
}
\declaretheoremstyle[
headfont=\bfseries\sffamily\color{RawSienna},
bodyfont=\normalfont,
spaceabove=2pt,
spacebelow=1pt,
mdframed={style=mdredbox},
headpunct={.},
]{thmredbox}

\declaretheorem[style=thmredbox,name=Example,numbered=no]{example}
